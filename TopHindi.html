<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Top_10_Hindi</title>
    <link rel="stylesheet" href="CSS/TopHits.css" />
    <link rel="stylesheet" href="CSS/TopHits2.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fugaz+One&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <!-- font awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
      integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>

  <body>
    <div class="container">
      <div class="navbar">
        <header>
          <h1 class="logo"><img src="IMG/music icons.png" alt="logo" /></h1>
          <nav>
            <ul>
              <li class="home">
                <a href="index.html">Home</a>
              </li>
              <li class="contact"><a>Contact</a></li>
            </ul>
          </nav>
        </header>
      </div>
      <div class="songimg">
        <div class="img-container">
          <!-- <img class="image" src="https://picsum.photos/250/250" alt="" /> -->
          <img class="image" src="IMG/homepage/hindi-tophits.jfif" />
        </div>
      </div>
      <div class="list">
        <div class="list-container">
          <div class="list-title font-effect-emboss">Top 10 Hits</div>

          <div class="song1 name">
            <span><a>1.Najaa(Sooryavanshi)</a></span>
            <span>
              <a>3:02<i id="0" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song2 name">
            <span> <a>2.Jab Koi Baat</a> </span>
            <span>
              <a>3.12<i id="1" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song3 name">
            <span> <a>3.Tu Aake Dekh le </a> </span>
            <span>
              <a>5.03<i id="2" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song4 name">
            <span> <a>4.Hawayein</a> </span>
            <span>
              <a>4.42<i id="3" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song5 name">
            <span> <a>5.Ranjha</a> </span>
            <span>
              <a>3.14<i id="4" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song6 name">
            <span> <a>6.Qaafirana </a> </span>
            <span>
              <a>6.16<i id="5" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song7 name">
            <span> <a>7.Agar Tum Sath Ho </a> </span>
            <span>
              <a>3.12<i id="6" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song8 name">
            <span> <a>8.Atrangi Yari</a></span>
            <span>
              <a>3:44<i id="7" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song9 name">
            <span> <a>9.Dil Ko Karaar Aya</a> </span>
            <span>
              <a>2.56<i id="8" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
          <div class="song10 name">
            <span> <a>10.Shayad</a> </span>
            <span>
              <a>4:49<i id="9" class="songItemPlay fas fa-play-circle"></i></a>
            </span>
          </div>
        </div>
      </div>
      
      <div class="player">
        <input type="range" name="" id="progressbar" min="0" value="0" max="100"/>
        <div class="time">
          <h3 id="currentT">00:00</h3>
          <h3>/</h3>
          <h3 id="TotalDuration">00:00</h3>
        </div>
        <div id="songtitle">Najaa(Sooryavanshi)</div>
        <div class="play-container">
          <a><i id="previous" class="fas  fa-step-backward buttons"></i></a>
          <a><i id="masterPlay" class="fas  fa-play buttons"></i></a>
          <a><i id="next" class="fas  fa-step-forward buttons"></i></a>
        </div>
      </div>
    </div>
    <script>
      let songIndex = 0;
      let masterPlay = document.getElementById("masterPlay");
      let progressbar = document.getElementById("progressbar");
      let audioElement = new Audio("SONGS/Top_10_Hindi/1.mp3");
      let songItemPlay = document.getElementsByClassName("songItemPlay");
      let next = document.getElementById("next");
      let previous = document.getElementById("previous");
      let songtitle = document.getElementById("songtitle");

      let songs = [
        {
          songName: "Najaa(Sooryavanshi)",
          filePath: "SONGS/Top_10_Hindi/1.mp3",
        },
        { songName: "Jab Koi Baat", filePath: "SONGS/Top_10_Hindi/2.mp3" },
        { songName: "Tu Aake Dekh le", filePath: "SONGS/Top_10_Hindi/3.mp3" },
        { songName: "Hawayein", filePath: "SONGS/Top_10_Hindi/4.mp3" },
        { songName: "Ranjha", filePath: "SONGS/Top_10_Hindi/5.mp3" },
        { songName: "Qaafirana", filePath: "SONGS/Top_10_Hindi/6.mp3" },
        { songName: "Agar Tum Sath Ho", filePath: "SONGS/Top_10_Hindi/7.mp3" },
        { songName: "Atrangi Yari", filePath: "SONGS/Top_10_Hindi/8.mp3" },
        { songName: "Dil Ko Karaar Aya", filePath: "SONGS/Top_10_Hindi/9.mp3" },
        { songName: "Shayad", filePath: "SONGS/Top_10_Hindi/10.mp3" },
      ];
      masterPlay.addEventListener("click", () => {
        if (audioElement.paused || audioElement.currentTime <= 0) {
          audioElement.play();
          masterPlay.classList.remove("fa-play");
          masterPlay.classList.add("fa-pause");
        } else {
          audioElement.pause();
          masterPlay.classList.add("fa-play");
          masterPlay.classList.remove("fa-pause");
        }
      });
      audioElement.addEventListener("timeupdate", () => {
        progress = parseInt(
          (audioElement.currentTime / audioElement.duration) * 100
        );
        progressbar.value = progress;

        let min_current = Math.floor(audioElement.currentTime / 60);
        let sec_current = Math.floor(audioElement.currentTime % 60);

        let min_duration = Math.floor(audioElement.duration / 60);
        let sec_duration = Math.floor(audioElement.duration % 60);

        if (sec_current < 10) {
          sec_current = `0${sec_current}`;
        }
        currentT.innerHTML = `0${min_current}:${sec_current}`;
        TotalDuration.innerHTML = `0${min_duration}:${sec_duration}`;

        if (audioElement.currentTime == audioElement.duration) {
          if (songIndex >= 9) {
            songIndex = 0;
          } else {
            songIndex += 1;
            makeAllPlays();
          }
          audioElement.src = `SONGS/Top_10_Hindi/${songIndex + 1}.mp3`;
          audioElement.play();
          songtitle.innerText = songs[songIndex].songName;
        }
      });
      progressbar.addEventListener("change", () => {
        audioElement.currentTime =
          (progressbar.value * audioElement.duration) / 100;
      });

      const makeAllPlays = () => {
        Array.from(document.getElementsByClassName("songItemPlay")).forEach(
          (element) => {
            element.classList.remove("fa-pause-circle");
            element.classList.add("fa-play-circle");
          }
        );
      };
      Array.from(document.getElementsByClassName("songItemPlay")).forEach(
        (element) => {
          element.addEventListener("click", (e) => {
            songIndex = parseInt(e.target.id);
            makeAllPlays();
            e.target.classList.remove("fa-play-circle");
            e.target.classList.add("fa-pause-circle");
            audioElement.src = `SONGS/Top_10_Hindi/${songIndex + 1}.mp3`;
            songtitle.innerText = songs[songIndex].songName;
            audioElement.currentTime = 0;
            audioElement.play();
            masterPlay.classList.add("fa-pause");
            masterPlay.classList.remove("fa-play");
          });
        }
      );
      next.addEventListener("click", () => {
        if (songIndex >= 10) {
          songIndex = 0;
        } else {
          songIndex += 1;
          makeAllPlays();
        }
        audioElement.src = `SONGS/Top_10_Hindi/${songIndex + 1}.mp3`;
        songtitle.innerText = songs[songIndex].songName;
        audioElement.play();
        audioElement.currentTime = 0;
        masterPlay.classList.add("fa-pause");
        masterPlay.classList.remove("fa-play");
        makeAllPlays();
      });

      previous.addEventListener("click", () => {
        if (songIndex <= 0) {
          songIndex = -1;
        } else {
          songIndex -= 1;
          makeAllPlays();
        }
        audioElement.src = `SONGS/Top_10_Hindi/${songIndex + 1}.mp3`;
        songtitle.innerText = songs[songIndex].songName;
        audioElement.play();
        audioElement.currentTime = 0;
        masterPlay.classList.add("fa-pause");
        masterPlay.classList.remove("fa-play");
        makeAllPlays();
      });
    </script>
  </body>
</html>
