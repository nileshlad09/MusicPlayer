<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="CSS/style.css"> -->
    <link rel="stylesheet" href="CSS/top.css">
    <!-- <link rel="stylesheet" href="try2.css"> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://kit-pro.fontawesome.com/releases/v5.15.4/css/pro.min.css" rel="stylesheet">
    <title>Online music player</title>
</head>

<body>
    <nav>
        <div class="navbar">
            <ul>
                <li class="logo"><img src="IMG/music icons.png" alt="ICON"></li>
                <a href="index.html">
                    <li>Home</li>
                </a>
                <li>About</li>
                <input type="text" name="" id="myInput" onkeyup="searchSong()">
            </ul>
        </div>
    </nav>
    <div class="container_1">

        <div class="song">
            <h2>Marathi Top Hits</h2>

            <div class="songalbum">
                <div class="left">
                    <div class="volume">
                        <input type="range" orient="vertical" min="0" max="100" value="90" onchange="volume_change()"
                            id="volume">
                        <i class="fa fa-volume-up" aria-hidden="true" onclick="mute_sound()" id="volume_icon"></i>
                        <p id="volume_show">90</p>
                    </div>
                </div>
                <img id="ablum" src="IMG/homepage/marathi_superhitjpg.jfif" alt="">
            </div>
        </div>
        <div class="scroll">
            <ul id="myUL">
                <li class="songlist songItemPlay"> <a href="#" id="0">Ya Re Ya <h6>Rohan Pradhan, Ventilator</h6></a>
                    03:20</li>
                <li class="songlist songItemPlay"> <a href="#" id="1">Bring It On <h6>ajay-atul, Jaundya Na Balasaheb
                        </h6>
                    </a>04:34</li>
                <li class="songlist songItemPlay"> <a href="#" id="2">Govyachya Kinaryav <h6>Rajneesh Patel,Pravin Koli
                        </h6></a> 03:34 </li>
                <li class="songlist songItemPlay"> <a href="#" id="3">Dewak Kalaji Re <h6>ajay Gogavale, Redu</h6> </a>
                    04:51
                </li>
                <li class="songlist songItemPlay"> <a href="#" id="4">Adhir Man <h6>Shreya Ghoshal, Nilkanth Master</h6>
                        </a> 04:10
                </li>
                <li class="songlist songItemPlay"> <a href="#" id="5">Khanderaya Zali Mazi Daina<h6>Vaibhav Londhe</h6>
                    </a>03:54</li>
                <li class="songlist songItemPlay"> <a href="#" id="6">Mauli Mauli<h6>ajay Gogavale, Lai Bhaari</h6> </a>
                    05:09</li>
                <li class="songlist songItemPlay"> <a href="#" id="7">Gulabachi Kal <h6>Vaishali Samant, Tu Hi Re</h6>
                    </a> 03:50 </li>
                <li class="songlist songItemPlay"> <a href="#" id="8">Ararara<h6>adarsh shinde, Mulshi Pattern</h6></a>
                    03:27
                </li>
                <li class="songlist songItemPlay"> <a href="#" id="9">Popat Pisaatla<h6>Anand Shinde & Kavita Raam
                            ,Shinma</h6></a>03:57</li>
            </ul>
        </div>
    </div>

    <div class="bottom">
        <div class="progressbar">
            <!-- <i class="fas fa-random"></i> -->
            <i id="repeat-plist" class="material-icons"> repeat</i>
            <input type="range" name="" id="progressbar" min="0" value="0" max="100">

        </div>
        <div class="icons">
            <i class="fas  fa-2x fa-step-backward" id="previous"></i>
            <i class="fas  fa-2x fa-play-circle" id="masterPlay"></i>
            <i class="fas  fa-2x fa-step-forward" id="next"></i>
        </div>
        <div class="songInfo">
            <img src="playing.gif" width="55px" alt="" id="gif"> <span id="masterSongName">Ya Re Ya - Ventilator</span>
        </div>
        <div class="time">
            <h3 id="currentT">00:00 </h3>
            <h3>/</h3>
            <h3 id="TotalDuration">00:00</h3>
        </div>
    </div>
    <script src="JAVASRIPT/search.js"></script>
    <!-- <link href="https://kit-pro.fontawesome.com/releases/v5.15.4/css/pro.min.css" rel="stylesheet"> -->
    <script src="https://kit.fontawesome.com/08f9d9768c.js" crossorigin="anonymous"></script>
    <script src="JAVASRIPT/volume.js"></script>
    <script>
        let songIndex = 0;
        let masterPlay = document.getElementById('masterPlay');
        let progressbar = document.getElementById('progressbar');
        // let audioElement = new Audio('SONGS/Top_10_Marathi/1.mp3');
        let songItemPlay = document.getElementsByClassName('songItemPlay');
        let next = document.getElementById('next');
        let previous = document.getElementById('previous');
        let masterSongName = document.getElementById('masterSongName');


        let songs = [
            { songName: "Ya Re Ya - Ventilator", filePath: 'SONGS/Top_10_Marathi/1.mp3' },
            { songName: "Bring It On- Jaundya Na Balasaheb", filePath: 'SONGS/Top_10_Marathi/2.mp3' },
            { songName: "Govyachya Kinaryav", filePath: 'SONGS/Top_10_Marathi/3.mp3' },
            { songName: "Dewak Kalaji Re- Redu", filePath: 'SONGS/Top_10_Marathi/4.mp3' },
            { songName: "Adhir Man -Nilkanth Master", filePath: 'SONGS/Top_10_Marathi/5.mp3' },
            { songName: "Khanderaya Zali Mazi Daina", filePath: 'SONGS/Top_10_Marathi/6.mp3' },
            { songName: "Mauli Mauli - Lai Bhaari", filePath: 'SONGS/Top_10_Marathi/7.mp3' },
            { songName: "Gulabachi Kali - Tu Hi Re", filePath: 'SONGS/Top_10_Marathi/8.mp3' },
            { songName: "Ararara - Mulshi Pattern ", filePath: 'SONGS/Top_10_Marathi/9.mp3' },
            { songName: "Popat Pisaatla - Shinma", filePath: 'SONGS/Top_10_Marathi/10.mp3' },
        ]
        masterPlay.addEventListener('click', () => {
            if (audioElement.paused || audioElement.currentTime <= 0) {
               
                audioElement.play();
                masterPlay.classList.remove('fa-play-circle');
                masterPlay.classList.add('fa-pause-circle');
                gif.style.opacity = 1;
            }
            else {
                audioElement.pause();
                masterPlay.classList.add('fa-play-circle');
                masterPlay.classList.remove('fa-pause-circle');
                gif.style.opacity = 0;
            }
        })

        progressbar.addEventListener('change', () => {
            audioElement.currentTime = progressbar.value * audioElement.duration / 100;
        })
        Array.from(document.getElementsByClassName('songItemPlay')).forEach((element) => {
            element.addEventListener('click', (e) => {
                songIndex = parseInt(e.target.id);
                
                audioElement.src = `SONGS/Top_10_Marathi/${songIndex + 1}.mp3`;
                
                masterSongName.innerText = songs[songIndex].songName;
                audioElement.currentTime = 0;
                gif.style.opacity = 1;
                audioElement.play();
                masterPlay.classList.add('fa-pause-circle');
                masterPlay.classList.remove('fa-play-circle');
            })
        });
        const nextSong = () => {
            if (songIndex >= 13) {
                songIndex = 0;
            }
            else {
                songIndex += 1
                
            }
            audioElement.src = `SONGS/Top_10_Marathi/${songIndex + 1}.mp3`;
            
            masterSongName.innerText = songs[songIndex].songName;
            audioElement.play();
            audioElement.currentTime = 0;
            masterPlay.classList.add('fa-pause-circle');
            masterPlay.classList.remove('fa-play-circle');
            gif.style.opacity = 1;
        }
        next.addEventListener('click', () => {
            nextSong();
        })
  

     

        previous.addEventListener('click', () => {
            if (songIndex <= 0) {
                songIndex = -1;
            }
            else {
                songIndex -= 1
                
            }
            
            audioElement.src = `SONGS/Top_10_Marathi/${songIndex + 1}.mp3`;
            masterSongName.innerText = songs[songIndex].songName;
            audioElement.play();
            audioElement.currentTime = 0;
            masterPlay.classList.add('fa-pause-circle');
            masterPlay.classList.remove('fa-play-circle');            
            gif.style.opacity = 1;
        })
        const random = () =>{
            let ranIndex =Math.floor((Math.random()*songItemPlay.length));
            audioElement.src = `SONGS/Top_10_Marathi/${ranIndex + 1}.mp3`;
            masterSongName.innerText = songs[ranIndex].songName;
            audioElement.play();
            audioElement.currentTime = 0;
            console.log(ranIndex);
        }
    </script>
</body>

</html>